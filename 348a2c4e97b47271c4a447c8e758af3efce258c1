{
  "comments": [
    {
      "key": {
        "uuid": "f31a5b12_b8cd7833",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/lfs/LfsPaths.java",
        "patchSetId": 7
      },
      "lineNbr": 23,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2017-05-17T10:09:11Z",
      "side": 1,
      "message": "The value is a regex",
      "range": {
        "startLine": 23,
        "startChar": 41,
        "endLine": 23,
        "endChar": 46
      },
      "revId": "348a2c4e97b47271c4a447c8e758af3efce258c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "87d194f6_edb2b563",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/lfs/LfsPaths.java",
        "patchSetId": 7
      },
      "lineNbr": 23,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2017-05-17T12:58:09Z",
      "side": 1,
      "message": "yeah it is concatenation of regexes ;) - will rename it",
      "parentUuid": "f31a5b12_b8cd7833",
      "range": {
        "startLine": 23,
        "startChar": 41,
        "endLine": 23,
        "endChar": 46
      },
      "revId": "348a2c4e97b47271c4a447c8e758af3efce258c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8fb9bccc_3f0f2cd7",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/lfs/LfsPathsTest.java",
        "patchSetId": 7
      },
      "lineNbr": 25,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2017-05-17T10:09:11Z",
      "side": 1,
      "message": "If this is true then the same regex-es must have been used both in Gerrit core and in the plugin. Right?\nIn that case we wouldn\u0027t need to repeat the tests here, but we also wouldn\u0027t need to repeat all the regex-es here.",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 25,
        "endChar": 75
      },
      "revId": "348a2c4e97b47271c4a447c8e758af3efce258c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c5f75bd1_eef7027c",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/lfs/LfsPathsTest.java",
        "patchSetId": 7
      },
      "lineNbr": 25,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2017-05-17T12:58:09Z",
      "side": 1,
      "message": "We need to repeat REGEXPs anyway (I have got mixed feelings regarding tests though ;)) Let me elaborate why we need them in both places.\nWe need them in com.google.gerrit.httpd.plugins.LfsPluginServlet so that LFS calls are recognised and in case plugin (actually filter from plugin) is installed request is filtered though it.\n\nWe need them in plugin as there is no direct call from LfsPluginServlet to plugin. Actually servlet recognises LFS URL and filters it through plugin context filter (see com.google.gerrit.httpd.plugins.LfsPluginServlet.service(HttpServletRequest, HttpServletResponse) for details). IOW plugin needs to install enpoints (in this case with regexps - serveRegex(LFS_LOCKS_REST).with(LfsLocksServlet.class);) in case it wants to handle them.",
      "parentUuid": "8fb9bccc_3f0f2cd7",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 25,
        "endChar": 75
      },
      "revId": "348a2c4e97b47271c4a447c8e758af3efce258c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fc6423a0_41fd684e",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/lfs/LfsPathsTest.java",
        "patchSetId": 7
      },
      "lineNbr": 25,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2017-05-23T07:41:22Z",
      "side": 1,
      "message": "I understand that you need to make use of the same regexes in both places. However, can\u0027t we define them once and (re)use them from both places?",
      "parentUuid": "c5f75bd1_eef7027c",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 25,
        "endChar": 75
      },
      "revId": "348a2c4e97b47271c4a447c8e758af3efce258c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a02aa8aa_fb8d3bba",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/lfs/LfsPathsTest.java",
        "patchSetId": 7
      },
      "lineNbr": 25,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2017-05-23T10:28:49Z",
      "side": 1,
      "message": "I have tried to place them in gerrit-extension-api but it is not referenced in LfsPluginServlet :/ I am opened for suggestions as gerrit-common seems to be to broad...",
      "parentUuid": "fc6423a0_41fd684e",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 25,
        "endChar": 75
      },
      "revId": "348a2c4e97b47271c4a447c8e758af3efce258c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "444c97c1_bde7fb6c",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/lfs/LfsPathsTest.java",
        "patchSetId": 7
      },
      "lineNbr": 25,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2017-05-24T09:56:52Z",
      "side": 1,
      "message": "Sasa, David any suggestions?",
      "parentUuid": "a02aa8aa_fb8d3bba",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 25,
        "endChar": 75
      },
      "revId": "348a2c4e97b47271c4a447c8e758af3efce258c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9018564a_e31ebeb0",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/lfs/LfsPathsTest.java",
        "patchSetId": 7
      },
      "lineNbr": 25,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2017-05-24T10:29:00Z",
      "side": 1,
      "message": "I\u0027m not sure what you mean by \"not referenced in LfsPluginServlet\".\n\nDo you mean there\u0027s no dependency in the build?  It shouldn\u0027t be a problem to add it.",
      "parentUuid": "444c97c1_bde7fb6c",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 25,
        "endChar": 75
      },
      "revId": "348a2c4e97b47271c4a447c8e758af3efce258c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fbf3b757_7d5ab137",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/lfs/LfsPathsTest.java",
        "patchSetId": 7
      },
      "lineNbr": 25,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2017-05-24T14:19:59Z",
      "side": 1,
      "message": "here is what I have done:\n1. create class com.google.gerrit.extensions.api.lfs.LfsPaths under\ngerrit-extension-api\n2. move LFS_REST static there: com.google.gerrit.extensions.api.lfs.LfsPaths.LFS_REST\n3. I have verified that /gerrit/gerrit-httpd/BUILD contains dependency to\n\"//gerrit-extension-api:api\"\n4. bazel build release results in:\nERROR: /Users/jcentkowski/workspace/open/gerrit/gerrit-httpd/BUILD:13:1: Java compilation in rule \u0027//gerrit-httpd:httpd\u0027 failed: Worker process sent response with exit code: 1.\ngerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpModule.java:19: error: cannot find symbol\nimport com.google.gerrit.extensions.api.lfs.LfsPaths.LFS_REST;\n                                                    ^\n  symbol:   class LFS_REST\n  location: class LfsPaths\ngerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpModule.java:17: error: cannot find symbol\nimport static com.google.gerrit.httpd.plugins.LfsPluginServlet.LFS_REST;\n^\n  symbol:   static LFS_REST\n  location: class\ngerrit-httpd/src/main/java/com/google/gerrit/httpd/AdvertisedObjectsCacheKey.java:24: error: cannot find symbol\n    return new AutoValue_AdvertisedObjectsCacheKey(account, project);\n               ^\n  symbol:   class AutoValue_AdvertisedObjectsCacheKey\n  location: class AdvertisedObjectsCacheKey\ngerrit-httpd/src/main/java/com/google/gerrit/httpd/plugins/PluginResourceKey.java:24: error: cannot find symbol\n    return new AutoValue_PluginResourceKey(p.getCacheKey(), r);\n               ^\n  symbol:   class AutoValue_PluginResourceKey\n  location: class PluginResourceKey\nTarget //:release failed to build\nUse --verbose_failures to see the command lines of failed build steps.\n\nI was calling bazel clean but it had no effect - the same problem was reported :/",
      "parentUuid": "9018564a_e31ebeb0",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 25,
        "endChar": 75
      },
      "revId": "348a2c4e97b47271c4a447c8e758af3efce258c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7239159e_c6b9d34c",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/lfs/LfsPathsTest.java",
        "patchSetId": 7
      },
      "lineNbr": 25,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2017-05-25T09:07:48Z",
      "side": 1,
      "message": "I haven\u0027t noticed that rerfactor f*cked up import statements - that is why it was not working for me. Thanks again David for point that out ;)",
      "parentUuid": "fbf3b757_7d5ab137",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 25,
        "endChar": 75
      },
      "revId": "348a2c4e97b47271c4a447c8e758af3efce258c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "909e06a3_ed965531",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/lfs/LfsPathsTest.java",
        "patchSetId": 7
      },
      "lineNbr": 25,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2017-05-30T06:57:58Z",
      "side": 1,
      "message": "\u003e import com.google.gerrit.extensions.api.lfs.LfsPaths.LFS_REST;\n\nthis should be `import static`",
      "parentUuid": "fbf3b757_7d5ab137",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 25,
        "endChar": 75
      },
      "revId": "348a2c4e97b47271c4a447c8e758af3efce258c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}