{
  "comments": [
    {
      "key": {
        "uuid": "239f651f_fcbfe96a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2017-01-11T12:02:59Z",
      "side": 1,
      "message": "This subject is misleading. The basic http auth is already automatically done when the servlet is accessed via the \"/a\" prefix.\n\nMy understanding is that this change only adds the missing authorization part.",
      "revId": "f229d26a88fabe95e9fd0d916c348bf36949a11e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "039c2129_7b3d1f2f",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/lfs/LfsApiServlet.java",
        "patchSetId": 3
      },
      "lineNbr": 60,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2017-01-11T12:02:59Z",
      "side": 1,
      "message": "Why not injecting just the CurrentUser here? Why do you need the LfsAuthUserProvider?",
      "revId": "f229d26a88fabe95e9fd0d916c348bf36949a11e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "039c2129_1bd09ba8",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/lfs/LfsApiServlet.java",
        "patchSetId": 3
      },
      "lineNbr": 60,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2017-01-11T13:40:58Z",
      "side": 1,
      "message": "It is not that easy :) Servlet is a singleton so I guess you meant Provider\u003cCurrentUser\u003e, but that doesn\u0027t work - AFAICT com.google.gerrit.httpd.GitOverHttpServlet registers itself on com.google.gerrit.httpd.GitOverHttpServlet.URL_REGEX which is different than LFS endpoint + operation hence it can\u0027t actively take part in user resolution...\nreason maybe different but it doesn\u0027t work :/",
      "parentUuid": "039c2129_7b3d1f2f",
      "revId": "f229d26a88fabe95e9fd0d916c348bf36949a11e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "239f651f_bcc96109",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/lfs/LfsApiServlet.java",
        "patchSetId": 3
      },
      "lineNbr": 126,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2017-01-11T12:02:59Z",
      "side": 1,
      "message": "Yes, this is the minimum we can check.\n\nHowever, here you don\u0027t check if the request large OID is actually used in this project. An evil user could request download of a large object X \n(which is used inside project N which is non-readable for the user)\nvia a project P which is readable for that user and in that way gain access to the object X. Right?",
      "revId": "f229d26a88fabe95e9fd0d916c348bf36949a11e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "039c2129_bb22c705",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/lfs/LfsApiServlet.java",
        "patchSetId": 3
      },
      "lineNbr": 126,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2017-01-11T12:36:08Z",
      "side": 1,
      "message": "I will work on the other issues but have no quick solution to check if OID belongs to the repository - do you have sth specific in mind?",
      "parentUuid": "239f651f_bcc96109",
      "revId": "f229d26a88fabe95e9fd0d916c348bf36949a11e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "039c2129_1bb97b8a",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/lfs/LfsApiServlet.java",
        "patchSetId": 3
      },
      "lineNbr": 126,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2017-01-11T12:49:37Z",
      "side": 1,
      "message": "No... because we don\u0027t yet have an efficient way to check if an OID is reachable from a branch or, at least, used in a project. This is probably a first very concrete use-case which shows need for an index which can efficiently check if an OID is reachable from a commit.",
      "parentUuid": "039c2129_bb22c705",
      "revId": "f229d26a88fabe95e9fd0d916c348bf36949a11e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "239f651f_1c717549",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/lfs/LfsAuthUserProvider.java",
        "patchSetId": 3
      },
      "lineNbr": 64,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2017-01-10T22:50:52Z",
      "side": 1,
      "message": "should really check the password before letting in as otherwise it is a matter of username that exists and has sufficient credentials ;)\n\non the other hand it seems though Git LFS client doesn\u0027t send pass in plain HTTP - have to investigate that more...",
      "range": {
        "startLine": 58,
        "startChar": 6,
        "endLine": 64,
        "endChar": 7
      },
      "revId": "f229d26a88fabe95e9fd0d916c348bf36949a11e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}